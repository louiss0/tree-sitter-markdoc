================================================================================
Simple if with block content
================================================================================

{% if $user %}
Hello, {% $user.name %}!
{% /if %}

--------------------------------------------------------------------------------

(source_file
  (if_tag
    (if_tag_open
      (tag_open)
      (if_keyword)
      (value_expression
        (variable_value
          (variable_reference
            (variable
              (identifier)))))
      (tag_close
        (inline_expression_close)))
    (if_tag_body
      (paragraph
        (text)
        (inline_expression
          (inline_expression_open)
          (variable_value
            (variable_reference
              (variable
                (identifier))
              (identifier)))
          (inline_expression_close))
        (text)))
    (if_tag_close
      (tag_close_start)
      (if_keyword)
      (inline_expression_close))))

================================================================================
If with else clause
================================================================================

{% if $user %}
Hello, {% $user.name %}!
{% else /%}
Please sign in.
{% /if %}

--------------------------------------------------------------------------------

(source_file
  (if_tag
    (if_tag_open
      (tag_open)
      (if_keyword)
      (value_expression
        (variable_value
          (variable_reference
            (variable
              (identifier)))))
      (tag_close
        (inline_expression_close)))
    (if_tag_body
      (paragraph
        (text)
        (inline_expression
          (inline_expression_open)
          (variable_value
            (variable_reference
              (variable
                (identifier))
              (identifier)))
          (inline_expression_close))
        (text))
      (if_tag_else_clause
        (else_tag
          (tag_open)
          (else_keyword)
          (tag_self_close_delimiter))
        (paragraph
          (text))))
    (if_tag_close
      (tag_close_start)
      (if_keyword)
      (inline_expression_close))))

================================================================================
If with else if clause (condition)
================================================================================

{% if $user %}
Hello,
{% $user.name %}!
{% else equals($role, "guest") /%}
Welcome guest!
{% /if %}

--------------------------------------------------------------------------------

(source_file
  (if_tag
    (if_tag_open
      (tag_open)
      (if_keyword)
      (value_expression
        (variable_value
          (variable_reference
            (variable
              (identifier)))))
      (tag_close
        (inline_expression_close)))
    (if_tag_body
      (paragraph
        (text)
        (inline_expression
          (inline_expression_open)
          (variable_value
            (variable_reference
              (variable
                (identifier))
              (identifier)))
          (inline_expression_close))
        (text))
      (if_tag_else_clause
        (else_tag
          (tag_open)
          (else_keyword)
          (value_expression
            (call_expression
              (identifier)
              (value_expression
                (variable_value
                  (variable_reference
                    (variable
                      (identifier)))))
              (value_expression
                (json_value
                  (string)))))
          (tag_self_close_delimiter))
        (paragraph
          (text)
          (text))))
    (if_tag_close
      (tag_close_start)
      (if_keyword)
      (inline_expression_close))))

================================================================================
If with multiple else clauses
================================================================================

{% if $user %}
Hello, {% $user.name %}!
{% else equals($role, "guest") /%}
Welcome guest!
{% else /%}
Please sign in.
{% /if %}

--------------------------------------------------------------------------------

(source_file
  (if_tag
    (if_tag_open
      (tag_open)
      (if_keyword)
      (value_expression
        (variable_value
          (variable_reference
            (variable
              (identifier)))))
      (tag_close
        (inline_expression_close)))
    (if_tag_body
      (paragraph
        (text)
        (inline_expression
          (inline_expression_open)
          (variable_value
            (variable_reference
              (variable
                (identifier))
              (identifier)))
          (inline_expression_close))
        (text))
      (if_tag_else_clause
        (else_tag
          (tag_open)
          (else_keyword)
          (value_expression
            (call_expression
              (identifier)
              (value_expression
                (variable_value
                  (variable_reference
                    (variable
                      (identifier)))))
              (value_expression
                (json_value
                  (string)))))
          (tag_self_close_delimiter))
        (paragraph
          (text)
          (text))
        (paragraph
          (inline_tag
            (tag_open)
            (tag_name)
            (tag_self_close_delimiter))
          (text))))
    (if_tag_close
      (tag_close_start)
      (if_keyword)
      (inline_expression_close))))

================================================================================
If with nested content blocks
================================================================================

{% if $showContent %}
# Section Title

Some paragraph content here.

- List item 1
- List item 2
{% /if %}

--------------------------------------------------------------------------------

(source_file
  (if_tag
    (if_tag_open
      (tag_open)
      (if_keyword)
      (value_expression
        (variable_value
          (variable_reference
            (variable
              (identifier)))))
      (tag_close
        (inline_expression_close)))
    (if_tag_body
      (heading
        (heading_marker)
        (heading_text
          (text)))
      (paragraph
        (text))
      (unordered_list
        (unordered_list_item
          (unordered_list_marker)
          (list_paragraph
            (text)))
        (unordered_list_item
          (unordered_list_marker)
          (list_paragraph
            (text)))))
    (if_tag_close
      (tag_close_start)
      (if_keyword)
      (inline_expression_close))))
