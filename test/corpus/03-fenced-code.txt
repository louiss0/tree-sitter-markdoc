================================================================================
Backtick fence without info string
================================================================================

```
code here
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open)
    (code)
    (code_fence_close)))

================================================================================
Backtick fence with language
================================================================================

```js
console.log('hello');
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close)))

================================================================================
Backtick fence with language and attributes
================================================================================

```javascript {title="example.js"}
const x = 1;
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)
        (attributes)))
    (code)
    (code_fence_close)))

================================================================================
Tilde fence without info string
================================================================================

~~~
some code
~~~

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open)
    (code)
    (code_fence_close)))

================================================================================
Tilde fence with language
================================================================================

~~~python
def hello():
    print("hi")
~~~

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close)))

================================================================================
Tilde fence with language and attributes
================================================================================

~~~typescript {line-numbers}
let y: number = 42;
~~~

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)
        (attributes)))
    (code)
    (code_fence_close)))

================================================================================
Multi-line code content
================================================================================

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello")
}
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close)))

================================================================================
Nested fences with longer outer fence
================================================================================

````markdown
`````python
print("inner")
`````
````

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close
      (MISSING _CODE_FENCE_CLOSE))))

================================================================================
Nested fences with minimum inner length
================================================================================

```markdown
````js
function inner() {
  return "ok";
}
````
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close
      (MISSING _CODE_FENCE_CLOSE))))

================================================================================
Nested fences with text and deeper nesting
================================================================================

````txt
This is nice text!

`````js
function doSomething() {

}
`````
````

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close
      (MISSING _CODE_FENCE_CLOSE))))

================================================================================
Empty code block
================================================================================

```
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open)
    (code_fence_close)))

================================================================================
Code block with heading after
================================================================================

```bash
echo "test"
```

# Heading

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close))
  (heading
    (heading_marker)
    (heading_text)))

================================================================================
Code block with paragraph after
================================================================================

```
code
```

Some text here.

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open)
    (code)
    (code_fence_close))
  (paragraph
    (text)))

================================================================================
Mixed backticks and content
================================================================================

```js
const str = "```";
const re = /```/;
```

--------------------------------------------------------------------------------

(source_file
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close)))

================================================================================
Code block with frontmatter
================================================================================
---
title: Code Example
---

```ruby
puts "Hello"
```

--------------------------------------------------------------------------------

(source_file
  (frontmatter
    (yaml))
  (fenced_code_block
    (code_fence_open
      (info_string
        (language)))
    (code)
    (code_fence_close)))
